"use strict";(self.webpackChunknetlify_functions=self.webpackChunknetlify_functions||[]).push([[510],{5390:function(t,e,n){n.d(e,{P9:function(){return a},Tu:function(){return i},Ps:function(){return u},nb:function(){return r},zt:function(){return l},$I:function(){return s},wA:function(){return o},UP:function(){return c}});var a="isijolatosin2210@gmail.com",i={canada:50,usa:100,london:100},u="canada",r="users",l="bookings",s=200,o="cad",c="https://www.bandgluxuryempire.com"},8880:function(t,e,n){n.d(e,{u:function(){return l},Q:function(){return o}});var a=n(5861),i=n(7757),u=n.n(i),r=n(5390),l=function(t,e){return e.find((function(e){return e.id===t.id}))},s=r.UP;function o(t,e){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)(u().mark((function t(e,n){var a,i,r,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object.assign({method:"POST",body:null},n),i=a.method,r=a.body,t.next=3,fetch(s+"/"+e,Object.assign({method:i},r&&{body:JSON.stringify(r)},{headers:{"Content-Type":"application/json"}}));case 3:return l=t.sent,t.abrupt("return",l.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},867:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var a=n(7294),i=n(1681),u=n(8767),r=n(2359),l=n(2775),s=n(1852),o=n(782),c=n(2101),p=n(3218),m=function(t){var e=t.product,n=e.title,u=e.image,m=e.price,d=e.quantity,v=e.description,Z=e.id,y=a.useState(!1),f=y[0],h=y[1],g=(0,i.I0)(),N=(0,r.d)(u),C={title:n,id:Z,image:u,price:m,description:v};return(0,p.tZ)("div",{className:"cart-items-container"},(0,p.tZ)("div",{className:"cart-image"},(0,p.tZ)(r.G,{image:N,alt:n})),(0,p.tZ)("div",{className:"cart-item-info"},(0,p.tZ)("div",null,(0,p.tZ)("h4",null,n)),(0,p.tZ)("div",{className:"price-quantity"},(0,p.tZ)("span",null,"Price: CA$ "+m),(0,p.tZ)("span",null,"Quantity: "+d)),(0,p.tZ)("div",{className:"description-readmore"},!f&&v.length>=100?(0,p.tZ)("span",null,v.substring(0,50),"..."):(0,p.tZ)("span",null,v),v.length>=100&&(0,p.tZ)("span",{onClick:function(){return h(!f)},className:"read_more"},f?(0,p.tZ)(a.Fragment,null,(0,p.tZ)("span",null,"Read Less")," ",(0,p.tZ)(l.DJ5,null)):(0,p.tZ)(a.Fragment,null,(0,p.tZ)("span",null,"Read More")," ",(0,p.tZ)(l.x3N,null)))),(0,p.tZ)("div",{className:"cart-item-icons"},(0,p.tZ)("div",{className:"cart-item-icon",onClick:function(){g((0,c.NB)(C))}},(0,p.tZ)(l.tX2,null),(0,p.tZ)("span",null,"Add")),1===d&&(0,p.tZ)("div",{className:"cart-item-icon",onClick:function(){g((0,c.B8)(C))}},(0,p.tZ)(o.Fe4,null),(0,p.tZ)("span",null,"Delete")),d>1&&(0,p.tZ)("div",{className:"cart-item-icon",onClick:function(){g((0,c.UI)(C))}},(0,p.tZ)(s._0z,null),(0,p.tZ)("span",null,"Remove")))))},d=n(5861),v=n(7757),Z=n.n(v),y=n(5360),f=n(8880),h=n(6562),g=n(5390),N=function(){var t=(0,i.v9)(c.D1),e=((0,y.useStripe)(),a.useState("")),n=e[0],u=e[1],r=a.useState(null),l=r[0],o=r[1],m=a.useState(!1),v=m[0],N=m[1],C=a.useState({street:"",city:"",province:"",postalcode:"",country:""}),b=C[0],_=C[1],k=a.useState({country:"",cost:""}),x=k[0],S=k[1],w=a.useState(!1),A=w[0],P=w[1],T=(0,i.I0)(),I=(0,a.useContext)(h.V).user,D=function(t){var e;_(Object.assign({},b,((e={})[t.target.name]=t.target.value,e)))},R=(0,i.v9)(c.mS),j=function(){var e=(0,d.Z)(Z().mark((function e(a){var i,u,r,l;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!v){e.next=9;break}return u=t.map((function(t){var e=t.description.substring(0,200)+"...";return{quantity:t.quantity,price_data:{currency:g.wA,unit_amount:100*t.price,product_data:{name:t.title,description:e}}}})),r=R>=g.$I&&x.country===g.Ps?[{shipping_rate_data:{type:"fixed_amount",fixed_amount:{amount:0,currency:g.wA},display_name:"Free shipping",delivery_estimate:{minimum:{unit:"business_day",value:5},maximum:{unit:"business_day",value:7}}}}]:[{shipping_rate_data:{type:"fixed_amount",fixed_amount:{amount:100*x.cost,currency:g.wA},display_name:"Paid Delivery",delivery_estimate:{minimum:{unit:"business_day",value:5},maximum:{unit:"business_day",value:7}}}}],e.next=6,(0,f.Q)("create-checkout-session",{body:{line_items:u,shipping_options:r,customer_email:I?(null==I?void 0:I.email)||(null==I||null===(i=I.user)||void 0===i?void 0:i.email):n}});case 6:l=e.sent,l.sessionId,A&&o(A.message);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.tZ)("form",{onSubmit:j},(0,p.tZ)("div",{className:"shipping-add-header"},(0,p.tZ)("div",{className:"ship-head"},(0,p.tZ)("p",null,"Shipping - Cost")),(0,p.tZ)("div",{className:"ship-countries"},(0,p.tZ)("ul",null,(0,p.tZ)("li",null,"canada - CA$ ",g.Tu.canada),(0,p.tZ)("li",null,"usa - CA$ ",g.Tu.usa),(0,p.tZ)("li",null,"london - CA$ ",g.Tu.london)))),(0,p.tZ)("div",{className:"inputs"},!I&&(0,p.tZ)("input",{type:"email",onChange:function(t){return u(t.target.value)},placeholder:"Email",value:n,className:A&&!n?"user-email-input input-error":"user-email-input"}),(0,p.tZ)("input",{name:"street",type:"text",value:b.street,onChange:D,placeholder:"Address",className:A&&!b.street?"user-email-input input-error":"user-email-input"}),(0,p.tZ)("input",{name:"city",type:"text",value:b.city,onChange:D,placeholder:"City",className:A&&!b.city?"user-email-input input-error":"user-email-input"}),(0,p.tZ)("input",{name:"province",type:"text",value:b.province,onChange:D,placeholder:"Province",className:A&&!b.province?"user-email-input input-error":"user-email-input"}),(0,p.tZ)("input",{name:"postalcode",type:"text",value:b.postalcode,onChange:D,placeholder:"Postal Code",className:A&&!b.postalcode?"user-email-input input-error":"user-email-input"}),(0,p.tZ)("input",{name:"country",type:"text",value:b.country,onChange:D,placeholder:"Country",className:A&&!b.country?"user-email-input input-error":"user-email-input"}),(0,p.tZ)("span",{onClick:function(){var t=b.street+", "+b.city+". "+b.province+". "+b.postalcode+". "+b.country;I&&n||P(!0),(I&&null!=b&&b.street&&null!=b&&b.city&&null!=b&&b.province&&null!=b&&b.postalcode&&null!=b&&b.country||n&&null!=b&&b.street&&null!=b&&b.city&&null!=b&&b.province&&null!=b&&b.postalcode&&null!=b&&b.country)&&(localStorage.setItem("address",t),N(!0),_({street:"",city:"",province:"",postalcode:"",country:""}),P(!1)),Object.keys(g.Tu).filter((function(t){return t.toLowerCase()===b.country.toLowerCase()&&S({country:t,cost:g.Tu[t]})}))},className:"btn block subt-add"},"SUBMIT ADDRESS")),"com"===n.substr(n.length-3)&&(0,p.tZ)("div",{className:"email-verify"},(0,p.tZ)("span",null,"Please verify you have the correct email and address")),A&&n.length<1&&(0,p.tZ)("div",{className:"user-email-input-error"},(0,p.tZ)("span",null,"Hey! You have missing credentials!")),(0,p.tZ)("div",{className:"total-button"},(0,p.tZ)("button",{onClick:function(){return!v&&P(!0)},className:"btn total-btn",type:"submit"},"PROCEED |"," ",(0,p.tZ)("span",null,(0,p.tZ)(s.EIo,null))),(0,p.tZ)("span",{onClick:function(){return T((0,c.QR)())},className:"btn block total_btn"},"CLEAR CART")),l&&(0,p.tZ)("div",{className:"checkout-error"},(0,p.tZ)("span",null,l)))},C=function(t){var e=t.itemCount,n=t.total;return(0,p.tZ)("div",null,(0,p.tZ)("div",{className:"total-top"},(0,p.tZ)("p",null,"Total Items: ",e),(0,p.tZ)("span",null,"Amount to Pay: CA$ "+n)),(0,p.tZ)(N,null))},b=function(){var t=(0,i.v9)(c.uR),e=(0,i.v9)(c.mS),n=(0,i.v9)(c.D1);return(0,p.tZ)(u.Z,null,(0,p.tZ)("div",{className:"cart"},(0,p.tZ)("h2",null,"Cart"),0===n.length?(0,p.tZ)("div",{className:"empty"},"Your Cart is Empty"):(0,p.tZ)("div",{className:"cart-container"},(0,p.tZ)("div",null,(0,p.tZ)("div",{className:"cart-left"},n.map((function(t){return(0,p.tZ)(m,{product:t,key:t.id})})))),(0,p.tZ)("div",{className:"total"},(0,p.tZ)(C,{itemCount:t,total:e})))))}}}]);
//# sourceMappingURL=component---src-pages-checkout-js-eaa914cd03d47fa0bccd.js.map