{"version":3,"file":"component---src-pages-register-js-a9be545ded30ccd783f1.js","mappings":"6PAuJA,UA9IiB,WACf,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAAgCC,EAAAA,EAAAA,UAAS,CACvCC,KAAM,GACNC,MAAO,GACPC,MAAO,GACPC,SAAU,GACVC,MAAO,OALFC,EAAP,KAAiBC,EAAjB,KAQQC,GAAYC,EAAAA,EAAAA,YAAWC,EAAAA,GAAvBF,QAEFG,EAAuB,SAAAC,GAAM,IAAD,EAChCL,EAAY,OAAD,UAAMD,IAAN,MAAiBM,EAAEC,OAAOZ,MAAOW,EAAEC,OAAOC,MAA1C,MAGPC,EAAY,mCAAG,WAAMH,GAAN,8EACnBA,EAAEI,iBACFT,EAAY,OAAD,UAAMD,EAAN,CAAgBD,MAAO,QAFf,kBAIIY,EAAAA,EAAAA,OAElBC,+BAA+BZ,EAASJ,MAAOI,EAASF,UAN1C,OAIXe,EAJW,OAOjBX,EAAQW,IACRC,EAAAA,EAAAA,IAAS,KARQ,kDAUjBb,EAAY,OAAD,UAAMD,EAAN,CAAgBD,MAAO,KAAMgB,WAVvB,QAanBC,EAAAA,GAAAA,WAAc,SACXC,IAAOjB,EAASJ,MADnB,KAEGsB,WAAW,gBACXC,IAAI,CACHxB,KAAMK,EAASL,KACfC,MAAOI,EAASJ,MAChBC,MAAOG,EAASH,MAChBC,SAAUE,EAASF,WAEpBsB,MAAK,WACJC,QAAQC,IAAR,kBAEDC,OAAM,SAAAxB,GAAK,OAAIsB,QAAQC,IAAI,QAAUvB,EAAMgB,YAE9CvB,GAASgC,EAAAA,EAAAA,KAAS,IA3BC,0DAAH,sDA8BlB,OACE,oBACE,QAAC,IAAD,MACE,mBAASC,UAAU,kBACjB,eAAKA,UAAU,yBACb,qCACA,wGAEqB,KACnB,QAAC,KAAD,CAAMC,GAAG,MACP,8CAIN,mBAASD,UAAU,kBACjB,eAAKA,UAAU,sBACf,gBAAME,SAAUlB,IACd,eAAKgB,UAAU,aACb,iBAAOG,QAAQ,SAAf,cACA,iBACEC,KAAK,OACLlC,KAAK,OACLmC,GAAG,OACHtB,MAAOR,EAASL,KAChBoC,SAAU1B,MAGd,eAAKoB,UAAU,aACb,iBAAOG,QAAQ,SAAf,eACA,iBACEC,KAAK,OACLlC,KAAK,QACLmC,GAAG,QACHtB,MAAOR,EAASJ,MAChBmC,SAAU1B,MAGd,eAAKoB,UAAU,aACb,iBAAOG,QAAQ,YAAf,kBACA,iBACEC,KAAK,WACLlC,KAAK,WACLmC,GAAG,WACHtB,MAAOR,EAASF,SAChBiC,SAAU1B,MAGd,eAAKoB,UAAU,aACb,iBAAOG,QAAQ,SAAf,+BACA,iBACEC,KAAK,SACLlC,KAAK,QACLmC,GAAG,SACHtB,MAAOR,EAASH,MAChBkC,SAAU1B,MAGd,eAAKoB,UAAU,iBACZzB,EAASD,OAAQ,iCAAiBC,EAASD,OAAa,OAE3D,kBACEiC,QAASvB,EACToB,KAAK,SACLJ,UAAU,2BAHZ,yBASJ,eAAKA,UAAU,aACb,qDAEE,QAAC,KAAD,CAAMC,GAAG,MACP,gCACM,OAGZ,eAAKD,UAAU,8BACb,aAAGA,UAAU,mBAAb,mCACmC,KACjC,QAAC,KAAD,CAAMC,GAAG,wCACP,uCACM,IAJV,MAKM,KACJ,QAAC,KAAD,CAAMA,GAAG,sCACP,yCACM,IARV","sources":["webpack://netlify-functions/./src/pages/register.js"],"sourcesContent":["import { Link, navigate } from \"gatsby\"\nimport React, { useState, useContext } from \"react\"\nimport Layout from \"../components/Layout\"\nimport firebase from \"gatsby-plugin-firebase\"\nimport { AuthContext } from \"../context/auth\"\nimport { db } from \"../../firebase\"\nimport { setLogin } from \"../../slices/appSlices\"\nimport { useDispatch } from \"react-redux\"\n\nconst Register = () => {\n  const dispatch = useDispatch()\n  const [authUser, setAuthUser] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    error: null,\n  })\n\n  const { setUser } = useContext(AuthContext)\n\n  const handleChangeAuthUser = e => {\n    setAuthUser({ ...authUser, [e.target.name]: e.target.value })\n  }\n\n  const handleSubmit = async e => {\n    e.preventDefault()\n    setAuthUser({ ...authUser, error: null })\n    try {\n      const result = await firebase\n        .auth()\n        .createUserWithEmailAndPassword(authUser.email, authUser.password)\n      setUser(result)\n      navigate(\"/\")\n    } catch (error) {\n      setAuthUser({ ...authUser, error: error.message })\n    }\n\n    db.collection(\"users\")\n      .doc(`${authUser.email}/`)\n      .collection(\"user-profile\")\n      .add({\n        name: authUser.name,\n        email: authUser.email,\n        phone: authUser.phone,\n        password: authUser.password,\n      })\n      .then(() => {\n        console.log(`SUCCESSFULL`)\n      })\n      .catch(error => console.log(\"Error\" + error.message))\n\n    dispatch(setLogin(false))\n  }\n\n  return (\n    <div>\n      <Layout>\n        <section className=\"register-page\">\n          <div className=\"register-page-header\">\n            <h1>Create Account</h1>\n            <p>\n              By creating account with us, you consent to receiving newsletters\n              or promotions from{\" \"}\n              <Link to=\"/\">\n                <span>B&G Luxury Empire.</span>\n              </Link>\n            </p>\n          </div>\n          <article className=\"register-form\">\n            <div className=\"register-form-bg\"></div>\n            <form onSubmit={handleSubmit}>\n              <div className=\"form-row\">\n                <label htmlFor=\"email\">your name</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  id=\"name\"\n                  value={authUser.name}\n                  onChange={handleChangeAuthUser}\n                />\n              </div>\n              <div className=\"form-row\">\n                <label htmlFor=\"email\">your email</label>\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  id=\"email\"\n                  value={authUser.email}\n                  onChange={handleChangeAuthUser}\n                />\n              </div>\n              <div className=\"form-row\">\n                <label htmlFor=\"password\">your password</label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"password\"\n                  value={authUser.password}\n                  onChange={handleChangeAuthUser}\n                />\n              </div>\n              <div className=\"form-row\">\n                <label htmlFor=\"email\">your cell phone (optional)</label>\n                <input\n                  type=\"number\"\n                  name=\"phone\"\n                  id=\"number\"\n                  value={authUser.phone}\n                  onChange={handleChangeAuthUser}\n                />\n              </div>\n              <div className=\"error-message\">\n                {authUser.error ? <p>Error message{authUser.error}</p> : null}\n              </div>\n              <button\n                onClick={handleSubmit}\n                type=\"submit\"\n                className=\"btn block btn-top-space\"\n              >\n                - CREATE ACCOUNT -\n              </button>\n            </form>\n          </article>\n          <div className=\"register\">\n            <p>\n              Already have an account with us?\n              <Link to=\"/\">\n                <button>Login</button>\n              </Link>{\" \"}\n            </p>\n          </div>\n          <div className=\"register-policy-container\">\n            <p className=\"register-policy\">\n              This site is protected by Google{\" \"}\n              <Link to=\"https://policies.google.com/privacy\">\n                <span>Privacy Policy</span>\n              </Link>{\" \"}\n              and{\" \"}\n              <Link to=\"https://policies.google.com/terms\">\n                <span>Terms of Service</span>\n              </Link>{\" \"}\n              apply\n            </p>\n          </div>\n        </section>\n      </Layout>\n    </div>\n  )\n}\n\nexport default Register\n"],"names":["dispatch","useDispatch","useState","name","email","phone","password","error","authUser","setAuthUser","setUser","useContext","AuthContext","handleChangeAuthUser","e","target","value","handleSubmit","preventDefault","firebase","createUserWithEmailAndPassword","result","navigate","message","db","doc","collection","add","then","console","log","catch","setLogin","className","to","onSubmit","htmlFor","type","id","onChange","onClick"],"sourceRoot":""}